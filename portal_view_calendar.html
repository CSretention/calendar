<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title></title>
  </head>
  <body>
    <div class="calendar-scope">
      <div class="calendar">
        <div class="base top">
          <div class="year-side">
            <span class="year-label" id="calendar-year"></span>
          </div>

          <div class="month-side">
            <span class="month-label" id="calendar-month"></span>
          </div>

          <div class="holes">
            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>
          </div>
        </div>

        <div class="base bottom">
          <div class="holes">
            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>

            <div class="hole">
            </div>
          </div>

          <div class="days" id="calendar-days">
          </div>
        </div>

        <div class="rings">
          <div class="ring">
          </div>

          <div class="ring">
          </div>

          <div class="ring">
          </div>

          <div class="ring">
          </div>

          <div class="ring">
          </div>

          <div class="ring">
          </div>
        </div>
      </div>
    </div>

    <form id="calendar-filter-form" style="display:none;"><input name="date" type="hidden" value="" /></form>
    <style type="text/css">/*<![CDATA[*//* ==== CALENDAR SCOPED STYLES ==== */
.calendar-scope {
  --calendar-background: #669bbc;
  --calendar-primary: #29335c;
  --calendar-secondary: #f3a712;
  --calendar-shadow: rgba(0,0,0,0.27);
}
.calendar-scope .calendar {
  position: relative;
  margin: 0 auto;
  width: 100%;
  max-width: 320px;
  aspect-ratio: 1/1;
}
.calendar-scope .base { width:100%; border-radius: 1.5vw; box-shadow: 0.2vw 0.2vw 1vw 0 var(--calendar-shadow); overflow:hidden; position:absolute; left:0; }
.calendar-scope .base.top { height:47%; top:0; background: var(--calendar-primary); z-index:2; }
.calendar-scope .base.bottom { height:53%; bottom:0; background: #fff; z-index:1; }
.calendar-scope .holes { display:flex; justify-content:space-around; position:absolute; left:0; right:0; height:18px; }
.calendar-scope .base.top .holes { bottom:6px; }
.calendar-scope .base.bottom .holes { top:8px; }
.calendar-scope .hole { background:var(--calendar-background); width:18px; height:18px; border-radius:50%; box-shadow:inset 0.2vw 0.2vw 1vw 0 var(--calendar-shadow); }
.calendar-scope .year-side, .calendar-scope .month-side { position:absolute; height:100%; top:0; display:flex; align-items:center; justify-content:center; font-family:Roboto,sans-serif; }
.calendar-scope .year-side { background: var(--calendar-secondary); width:20%; left:0; }
.calendar-scope .year-label { color: var(--calendar-primary); writing-mode: vertical-lr; font-size: 2.5rem; font-weight: bold; text-align: center; }
.calendar-scope .month-side { left:20%; width:80%; }
.calendar-scope .month-label { color: var(--calendar-secondary); font-size: 2.3rem; font-weight: bold; text-align: left; }
.calendar-scope .days { position: absolute; top:18px; left:2vw; width:90%; height:78%; display: grid; grid-template: repeat(6,1fr) / repeat(7,1fr); grid-gap:0.2vw; }
.calendar-scope .days > div { text-align:center; padding-top:18%; font-family:Roboto,sans-serif; font-size:1.2rem; color:var(--calendar-primary); cursor:pointer; }
.calendar-scope .days > .old { color:#bbb; }
.calendar-scope .days > .weekday { font-weight:bold; color: var(--calendar-secondary); cursor: default; }
.calendar-scope .rings { position: absolute; bottom: -36px; left:20%; width:60%; height:34px; display:flex; justify-content:space-between; z-index:3; }
.calendar-scope .ring { background:#fff; opacity:0.85; width:6px; height:34px; border-radius:12px 12px 16px 16px/12px 12px 30px 30px; margin:0 0.8vw; box-shadow: 0.1vw 0 0.3vw -0.1vw var(--calendar-shadow); }
@media(max-width:600px){ .calendar-scope .calendar { max-width: 95%; } .calendar-scope .days>div { font-size:3vw; } }
    /*]]>*/
    </style>
    <script>/*<![CDATA[*/(function(){
  const container=document.getElementById('calendar-days');
  const yearLabel=document.getElementById('calendar-year');
  const monthLabel=document.getElementById('calendar-month');
  const form=document.getElementById('calendar-filter-form');
  let year=new Date().getFullYear();
  let month=new Date().getMonth();
  let selectedDate=null;

  function getMonthData(y,m){
    let d=new Date(y,m,1);
    return {start:d.getDay(),days:new Date(y,m+1,0).getDate(),prevDays:new Date(y,m,0).getDate()};
  }
  function updateCalendar(){
    container.innerHTML='';
    const data=getMonthData(year,month);
    ['SUN','MON','TUE','WED','THU','FRI','SAT'].forEach(day=>{
      let d=document.createElement('div');d.className='weekday';d.textContent=day;container.appendChild(d);
    });
    for(let i=data.start-1;i>=0;i--){
      let d=document.createElement('div');d.className='old';d.textContent=(data.prevDays-i);container.appendChild(d);
    }
    for(let i=1;i<=data.days;i++){
      let d=document.createElement('div');
      d.textContent=i;
      d.dataset.date=`${year}-${String(month+1).padStart(2,'0')}-${String(i).padStart(2,'0')}`;
      if(selectedDate===d.dataset.date){d.style.background='#f3a712';d.style.color='#29335c';d.style.borderRadius='8px';}
      d.addEventListener('click',function(){
        selectedDate=d.dataset.date;
        if(form){form.querySelector('input[name="date"]').value=selectedDate;form.submit();}
        updateCalendar();
      });
      container.appendChild(d);
    }
    let total=data.start+data.days;
    for(let i=1;total<42;i++,total++){
      let d=document.createElement('div');d.className='old';d.textContent=i;container.appendChild(d);
    }
    yearLabel.textContent=year;
    monthLabel.textContent=new Date(year,month,1).toLocaleString('default',{month:'long'}).toUpperCase();
  }
  updateCalendar();
})();/*]]>*/</script>
  </body>
</html>
